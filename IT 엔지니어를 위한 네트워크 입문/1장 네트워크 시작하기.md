# 1장 네트워크 시작하기
## 1.1 네트워크 구성도 살펴보기
### 1.1.1 홈 네트워크
인터넷 - 모뎀 - 공유기 - PC

|특징|	모뎀|	공유기|
|:---:|:--:|:--:|
|역할|	인터넷 신호 변환 및 연결|	네트워크 관리 및 장치 연결 관리|
|연결 대상|	ISP와의 통신을 담당|	내부 네트워크의 여러 장치를 인터넷에 연결|
|IP 할당|	ISP에서 부여받은 공용 IP를 그대로 전달|	네트워크 내 장치에 사설 IP 주소를 할당|
|보안 기능|	제한적 (일부 모뎀에서만 보안 기능 제공)|	방화벽, NAT 등 다양한 보안 기능 포함|
|무선 기능|	없음|	무선 공유기는 Wi-Fi 기능을 제공|

- 홈 네트워크를 구성하는 데는 모뎀, 공유기, 단말 간의 물리적 연결이 필요하다
- 무선 연결 : 공기와 무선 랜 카드 필요
- 유선 연결 : 유선 랜 카드와 케이블 필요
### 1.1.2 데이터 센터 네트워크
데이터 센터는 대규코의 데이터와 애플리케이션을 저장하고 있다.
여기 부분을 읽기 전에 몇 가지 사전 지식이 필요한 거 같아 찾아봤다.
- 스위치 : 장치간 데이터 전달, 전달할 때 MAC주소를 사용하나의 특정 서버에 데이터를 전달한다.
- 데이터 센터의 경우 왜 스위치를 계층 구조로 만들었을까?
  - 이는 확장성을 위해서이다.
  - 스위치는 여러 개의 서버와 연결되는데 한 스위치 당 연결되는 서버의 수는 제한적이다. 따라서 여러 개의 스위치가 데이터 센터에 생기게 되는데 이 스위치 간의 소통을 위해서 서로 간 또 연결이 필요하다.
  - 따라서 서로 간의 소통을 위한 포트를 절약하기 위해 위에 하나의 계층을 추가하여 서로 간의 소통을 담당하는 계층 스위치를 두는 거 같다.
  - 결국은 확장성을 위해서 계층 구조를 선택한다.
  - 그러면 이 서버들간의 왜 소통이 필요한걸까? 어떤 경우에 필요한 것일까?
    - 데이터 복제 및 백업
    - 분산 파일 시스템

![image](https://github.com/user-attachments/assets/09fce9a2-95a8-4d09-9962-a6f30e1b0dea)
- 가상화 기술과 높은 대역폭을 요구하는 스케일 아웃 기반의 애플리케이션과 서비스 등장에 따라 
데이터 센터의 구조가 North-south trafic에서 2계층 구조인 스파인 리프 구조로 변경되었다.
- 가상화와 분산형 애플리케이션의 등장으로 데이터 센터 내부에서 서버 간 트래픽이 많아졌다. 즉, 데이터 센터 내부에서 발생하는 East-West 트래픽(서버 간의 직접적인 데이터 전송)이 급격히 증가했다.
## 1.2 프로토콜
여러 가지 프로토콜 기술이 이더넷-TCP/IP 기반 프로토콜들로 변경되고 있다.
- 물리적 측면 : 데이터 전송 매체, 신호 규약, 회선 규격 등, 이더넷이 널리 쓰인다.
- 논리적 측면 : 장치들끼리 통신하기 위한 프로토콜 규격, TCP/IP가 널리 쓰인다.

TCP/IP 프로토콜 스택
![image](https://github.com/user-attachments/assets/fe7c5c57-97f3-4677-b5f6-12cb855de465)
- TCP/IP는 프로토콜이라고 부르지 않고 프로토콜 스택이라고 부른다.
- TCP와 IP는 별도 계층에서 동작하는 프로토콜이지만 함께 사용하고 있고 이런 프로토콜 묶음을 프로토콜 스택이라고 부른다.
- 총 4개 부분으로 나뉜다.
  - 물리 부분 : 이더넷
  - 네트워크 계층 : 목적지를 찾아가도록 해준다.
  - 전송 계층 : 잘린 패킷을 데이터 형태로 잘 조합하도록 도와줌
  - 애플리케이션 계층

## 1.3 OSI 7계층과 TCP/IP 
### 1.3.1 OSI 7계층
OSI 7계층이 네트워크 동작을 나누어 이해하고 개발하는 데 많은 도움이 되므로 네트워크의 주요 레퍼런스 모델로 활용되고 있지만 현재는 대부분의 프로토콜이 TCP/IP 프로토콜 스택 기반으로 되어 있다.
![image](https://github.com/user-attachments/assets/e6d821de-e2a5-4be2-8dfb-dae36d7861c1)
- 1계층 ~ 4계층 : 데이터 플로 계층 또는 하위 계층이라고 부르며 데이터를 상대방에게 전달하는 역할을 가지고 있다.
- 5계층 ~ 7계층 : 애플리케이션 계층 또는 상위 계층이라고 부르며 애플리케이션 개발자는 하위 계층을 고려하지 않고 데이터를 표현하는 것에 초점을 맞춘다.
### 1.3.2 TCP/IP 프로토콜 스택
현대 네트워크 대부분 TCP/IP와 이더넷으로 이루어져 있으며 이론보다 실용성에 중점을 두고 있다.
![image](https://github.com/user-attachments/assets/8e30100f-26ad-4c0b-82ee-ebf69d76d369)

## 1.4 OSI 7계층별 이해하기
- OSI 7계층은 참조형 모델이고 실제로 사용하는 프로토콜은 TCP/IP 프로토콜 스택
- 하지만 계층별로 더 자세히 다루기 위해서 OSI 7계층 기준으로 설명
### 1계층 (피지컬 계층)
- 물리적 연결과 관련된 정보를 정의 -> 전기 신호를 전달
- 주요 장비
  - 허브, 리피터 : 네트워크 통신 중재
  - 케이블, 커넥터 : 케이블 본체를 구성하는 요소
  - 트랜시버 : 컴퓨터의 랜카드와 케이블을 연결하는 장비
  - 탭 : 네트워크 모니터링과 패킷 분석을 위해 전기 신호를 다른 장비로 복제
- 1계층에 들어오면 이 전기 신호를 재생성하여 내보낸다.
- 주소의 개념이 없기 때문에 전기 신호가 들어온 포트를 제외하고 모든 포트에 같은 전기 신호를 전송
### 2계층 (데이터 링크 계층)
- 전기 신호를 모아 우리가 알아볼 수 있는 데이터 형태로 처리
- 1계층과 다르게 전기 신호를 정확히 전달하기보다는 주소 정보를 정의하고 정확한 주소로 통신이 되도록 하는 데 초점이 맞추어져 있다.
- 데이터 형태로 처리하므로 데이터에 대한 에러 탐지하거나 고치는 역할을 수행한다.
- 주소 체계가 있다 = 한 명이 아닌 동시에 여러 사람과 통신할 수 있다는 것이므로
- 무작정 던지는 것이 아니라 상대방이 받을 수 있는지 확인하는 작업이 필요하며 이 과정을 플로 컨트롤이라고 한다.
- 구성 요소
  - 인터페이스 카드(NIC/Lan Card/네트워크 어뎁터)
    - 동작 방식
      1. 전기 신호를 데이터 형태로 바꾼다.
      2. 목적지 MAC 주소와 출발지 MAC 주소를 확인한다.
      3. 네트워크 인터페이스 카드의 MAC 주소를 확인한다.
      4. 목적지 MAC 주소와 네트워크 인터페이스 카드가 갖는 MAC 주소가 맞으면 데이터를 처리하고 다르면 데이터를 폐기한다.
  - 스위치
    - 단말이 어떤 MAC 주소인지, 연결된 포트는 어떤 것인지 주소 습득 과정의 역할 = 데이터를 기반으로 단말들이 통신할 때 포트를 적절히 필터링하고 정확하게 포트로 포워딩
### 3계층 (네트워크 계층)
- IP 주소와 같은 논리적인 주소가 정의
- 사용자 환경에 따라 변한다.
- 네트워크 주소 부분 / 호스트
## 1.5 인캡슐레이션과 디캡슐레이션
